<h1>Definição de funções</h1><br><br>

Até aqui, resolvemos um problema de manutenção. Sempre que quisermos pular uma linha, mesmo declarando a variável puloLinha, usaremos document.write(puloLinha). Isso é melhor em relação ao modelo anterior pois puloLinha pode guardar um pulo com várias linhas.<br><br>

Mas se pedirmos para uma pessoa sem conhecimento em Programação nos dizer o significado da instrução document.write(), ela provavelmente não entenderá do que se trata. Isto ocorre por conta da falta de clareza no código.<br><br>

Além disso, é tedioso para os programadores escreverem diversas vezes a mesma instrução. A utilidade de document.write() consiste em escrever na tela aquilo que passamos como parâmetro entre os parênteses. Por exemplo, se queremos dividir 3 por 4:<br><br>

document.write(3/4);<br>
O resultado não será um número exato, e para arredondarmos, podemos utilizar o Math.round():<br><br>

document.write(Math.round(3/4));<br>
O objetivo é bem definido, e queremos arredondar o resultado da operação. Portanto, vemos que o próprio alert() tem a função delimitada, que é justamente exibi-lo na tela. Estas funcionalidades já existem no JavaScript. E se pudéssemos criar nossa própria funcionalidade, algo que tenha uma função bem definida? Em JavaScript ou em qualquer outra linguagem de programação, há meios para criarmos nossas próprias funcionalidades.<br><br>

A seguir, eliminaremos a variável puloLinha, e excluiremos também as declarações de document.write(puloLinha):<br><br>

<meta charset="UTF-8">

<script>

var ano = 2016;

document.write("Flávio tem " + (ano - 1977) + " anos");
?
document.write("Joaquim tem " + (ano - 1996) + " anos");
?

ano = 2017;
document.write("Barney tem " + (ano - 1976) + " anos");

</script>
<br>
<br>
Supondo que estamos seguindo um texto de um livro, faria sentido se o conteúdo fosse o seguinte?<br><br>

document.write("Flávio tem " + (ano - 1977) + " anos");<br>
pulaLinha<br>
document.write("Joaquim tem " + (ano - 1996) + " anos");<br><br>

O texto está escrito em português, se chamarmos um colega para ler a instrução, ele entenderá que a função de pulaLinha é de pular uma linha. O JavaScript nos permite fazer essa tarefa, criar nossas funcionalidades, ou seja, as próprias funções.<br><br>

No entanto, há uma peculiaridade - quando queremos executar o document.write, temos que inserir o parâmetro entre parênteses, e no caso do pulaLinha, não haverá nenhum, então a funcionalidade simplesmente será executada. De qualquer forma, incluiremos os parênteses:<br><br>

document.write("Flávio tem " + (ano - 1977) + " anos");<br><br>

pulaLinha();<br><br>

document.write("Joaquim tem " + (ano - 1996) + " anos");<br><br>

pulaLinha();<br>
Por que isso? Retornaremos ao console do navegador, e na barra de menu superior acessaremos "Visualizar > Desenvolvedor > Console JavaScript", em que digitaremos o seguinte comando:<br><br>

alert();<br>
Pressionaremos a tecla "Enter", o que fará com que surja um alerta em forma de pop up, apesar de não termos inserido nenhum parâmetro. Isso porque se trata de uma funcionalidade já existente no JavaScript. Entretanto, para que ela pudesse ser executada, tivemos de utilizar os parênteses. Ela normalmente recebe um parâmetro, a mensagem que queremos exibir:<br><br>

alert("olá");<br>
Com isto temos o seguinte pop up:<br><br>

Essa página diz:<br>

Olá<br><br>
No caso, nossa função pulaLinha() não receberá nada, sendo simplesmente declarada. Sabemos que ela na verdade terá a linha com document.write(), utilizada anteriormente:<br><br>

document.write'("<"br>")<br>
Como criamos uma função no JS? Convencionaremos que todas as funções que criarmos estarão nas primeiras instruções da tag <"script>, ou seja, declararemos no início do código. Para declararmos uma função, utilizaremos o termo em inglês function, seguido de um nome, no caso, pulaLinha: <br><br>

<meta charset="UTF-8">

<script>

    function pulaLinha()

///...
</script><br><br>

Inserimos os parênteses por ser uma exigência do JavaScript para declararmos uma função. Queremos que esta função escreva document.write("<br>"), portanto faremos isso dentro do bloco da função, entre chaves:<br><br>

<meta charset="UTF-8">

<script>

    function pulaLinha() {
        }
///...
</script><br><br>
Tudo que estiver entre as chaves pertence à função pulaLinha(). Um ponto importante - a função é sempre descrita por um verbo, seja ele "pula", "grita", "comemora", ou qualquer outro, isto porque ela sempre indica uma ação a ser executada. Como document.write() pertencerá à função, adicionaremos-na dentro das chaves:<br><br>

<meta charset="UTF-8">

<script>

    function pulaLinha() {

 document.write("<br>");
        }
//...
</script><br><br>
Este código é válido, mas sempre dentro de um bloco utilizaremos a tecla "Tab":

<meta charset="UTF-8">

<script>

    function pulaLinha() {

        document.write("<br>");

}
//...
</script><br><br>
Nós indentaremos o trecho de código. Trata-se de uma boa prática, uma convenção no mundo da programação - se estamos em um bloco, utilizamos "Tab" para criar um espaçamento na linha e, assim, o código ficará indentado e teremos uma melhor noção de hierarquia. Neste caso, saberemos que document.write() pertence à função pulaLinha().<br><br>

Verificaremos se o código está funcionando. Salvaremos, retornaremos ao navegador e recarregaremos a página. Deu certo! Obtivemos o seguinte resultado, em que foram puladas linhas entre cada frase:<br><br>

Flávio tem 39 anos
Joaquim tem 20 anos
Barney tem 41 anos
E se quisermos pular mais de uma linha? Podemos inserir mais de uma instrução na função, da seguinte forma:<br><br>

<meta charset="UTF-8">

<script>

    function pulaLinha() {

        document.write("<br>");
        document.write("<br>");
        }
//...
</script><br><br>
Uma função pode ser um atalho para várias outras instruções, por exemplo, quando pulaLinha() for processado, é como se o JavaScript estivesse substituindo por duas quebras de linha no formato document.write("<"br>"), como se passássemos disso:<br><br>

<meta charset="UTF-8">

<script>

    function pulaLinha() {

        document.write("<br>");
        document.write("<br>");

}

var ano = 2016;

document.write("Flávio tem " + (ano - 1977) + " anos");
pulaLinha();

document.write("Joaquim tem " + (ano - 1996) + " anos");

pulaLinha();

ano = 2017;
document.write("Barney tem " + (ano - 1976) + " anos");

</script><br><br>
Para isso:

<meta charset="UTF-8">

<script>

    function pulaLinha() {

        document.write("<br>");
        document.write("<br>");
    }

var ano = 2016;

document.write("Flávio tem " + (ano - 1977) + " anos");

    document.write("<br>");
    document.write("<br>");

document.write("Joaquim tem " + (ano - 1996) + " anos");

    document.write("<br>");
    document.write("<br>");

ano = 2017;
document.write("Barney tem " + (ano - 1976) + " anos");

</script><br><br>
Assim, é como se, ao chegar em pulaLinha(), o JavaScript parasse para acessar o bloco da função e executasse as funções contidas nela. Podemos criar nossas próprias funções para deixar nossa programação mais legível, interessante, e mais fácil de se manter.<br><br>

Podemos reutilizar o pulaLinha() em qualquer lugar do sistema; se quisermos alterar a maneira como esta função é utilizada, isto não afetará o restante do código. Podemos obter o mesmo resultado com apenas uma instrução:<br><br>

<meta charset="UTF-8">

<script>

    function pulaLinha() {

        document.write("<br><br>");
    }
//...
</script><br><br>
Quem chama a função pulaLinha() nem saberá que ela foi alterada, desde que ela funcione da mesma forma. Salvaremos e recarregaremos o navegador, e veremos que o resultado foi o mesmo:<br><br>

Flávio tem 39 anos<br><br>

Joaquim tem 20 anos<br><br>

Barney tem 41 anos<br>
A vantagem de uma função é tornar legível a intenção do que queremos fazer. Se quisermos pular uma linha, por exemplo, criaremos o pulaLinha(), sempre utilizando um verbo e indicando uma ação.<br><br>

Uma função representa um conjunto de instruções, e é possível ter uma, duas, cem instruções - não há limites. Sendo assim, será desnecessário reescrevê-las em diversos pontos no código, basta utilizarmos a função criada.<br><br>

Porém, é preciso ter cuidado, pois se esquecermos de abrir e fechar os parênteses...<br><br>

var ano = 2016;<br><br>

document.write("Flávio tem " + (ano - 1977) + " anos");<br><br>

    pulaLinha;<br><br>

document.write("Joaquim tem " + (ano - 1996) + " anos");<br><br>

    pulaLinha;<br>
Ao executarmos o código acima, teremos o seguinte resultado:<br><br>

Flávio tem 39 anosJoaquim tem 20 anosBarney tem 41 anos<br>
As linhas não foram puladas. Se abrirmos o console, veremos que nada acontece. Isso porque, para executar a função, é necessária a utilização dos parênteses. No JavaScript a função permanece guardada, isso significa que não importa quantos comandos houverem dentro dela, eles só serão executados uma vez que forem acionados.<br><br>

Se, incluirmos um alerta em nossa função, e removermos os chamados pulaLinha():<br><br>

<meta charset="UTF-8">

<script>

    function pulaLinha() {
        alert("oi");
        document.write("<br>");
        document.write("<br>");

}

var ano = 2016;

document.write("Flávio tem " + (ano - 1977) + " anos");

document.write("Joaquim tem " + (ano - 1996) + " anos");

ano = 2017;

document.write("Barney tem " + (ano - 1976) + " anos");

</script>
Temos três instruções. Ao salvarmos e recarregarmos a página, o alerta não será exibido, tampouco há quebras de linha. Isso ocorre pois a função não foi chamada. Se desta vez inserirmos pulaLinha() usando parênteses:<br><br>

<meta charset="UTF-8">

<script>

    function pulaLinha() {
        alert("oi");
        document.write("<br>");
        document.write("<br>");

}

var ano = 2016;

document.write("Flávio tem " + (ano - 1977) + " anos");

pulaLinha();

document.write("Joaquim tem " + (ano - 1996) + " anos");

pulaLinha();

ano = 2017;

document.write("Barney tem " + (ano - 1976) + " anos");

</script><br><br>
Todas as instruções serão executadas, o alerta e os dois pulos de linha. Ao recarregarmos o navegador, exibe-se o pop up com a mensagem oi.<br><br>

pop up com mensagem "oi"<br><br>

Enquanto isso, no navegador veremos:<br><br>

Flávio tem 39 anos<br><br>

Joaquim tem 20 anos<br><br>

Barney tem 41 anos<br><br>

Entre as linhas, há espaços em branco. Como chamamos a função duas vezes, o alerta será exibido novamente. Removeremos o alerta, e agora entendemos que a função serve como um atalho para as instruções que queremos executar no programa.<br><br>

E se chamarmos a função de x?<br><br>

<meta charset="UTF-8">

<script>

    function x() {

        document.write("<br>");
        document.write("<br>");

}

var ano = 2016;

document.write("Flávio tem " + (ano - 1977) + " anos");

x();

document.write("Joaquim tem " + (ano - 1996) + " anos");

x();

ano = 2017;

document.write("Barney tem " + (ano - 1976) + " anos");

</script><br><br>
O programa continuará funcionando, entretanto, ao visualizarmos a função x(), não temos como saber do que se trata. O nome de uma função é tão importante quanto o código que ela executa, para deixar claro o que ela faz.<br><br>

Com isso, concluímos a criação de nossa primeira função, que não recebe parâmetro. O document.write() aceita receber parâmetros para, internamente, imprimir na tela aquilo que lhe é passado. Já o pulaLinha() ficou vazio e não está preparado para lidar com isso.<br><br>

Nosso código pode ser melhorado ainda, como veremos adiante.<br><br>

<h1>Funções com parâmetos</h1><br><br>
Já simplificamos a maneira de pular linhas criando a função pulaLinha(). Será que é possível fazermos o mesmo com o document.write()? Quando queremos exibir algo para o usuário, sempre temos que escrevê-lo, incluindo também a mensagem entre parênteses, como em:<br><br>

document.write("Olá pessoal!");<br>
É uma sintaxe extensa. Em vez de escrevermos tudo isso, criaremos uma função chamada mostra(). Quem mostra, mostra algo, portanto esta função receberá uma mensagem como parâmetro, em vez de nenhum. Se compararmos as instruções:<br><br>

document.write("Olá pessoal!");<br><br>

mostra("Olá pessoal");<br>
Vemos que a segunda, além de mais sucinta, fica explícita nossa intenção de mostrar algo. Quando um terceiro olhar nosso código, ao ver mostra(), saberá que seu propósito é exibir algo na tela.<br><br>

E como criamos a função mostra()? Primeiro colocaremos alguns trechos em comentários, por meio de barras duplas (//). O programa ignorará a referida linha, que continuará presente para fins didáticos, para lembrarmos o que havia antes.<br><br>

<meta charset="UTF-8">

<script>

    function pulaLinha() {

        document.write("<br>");
        document.write("<br>");

}

var ano = 2016;

// document.write("Flávio tem " + (ano - 1977) + " anos");

pulaLinha();

// document.write("Joaquim tem " + (ano - 1996) + " anos");

pulaLinha();

ano = 2017;

// document.write("Barney tem " + (ano - 1976) + " anos");
// document.write("Olá pessoal!");

</script><br><br>
No lugar de document.write() queremos utilizar mostra():<br><br>

var ano = 2016;<br><br>

// document.write("Flávio tem " + (ano - 1977) + " anos");

mostra();<br><br>

pulaLinha();<br><br>

// document.write("Joaquim tem " + (ano - 1996) + " anos");

pulaLinha();<br><br>

ano = 2017;<br><br>

// document.write("Barney tem " + (ano - 1976) + " anos");
// document.write("Olá pessoal!");

</script><br><br>
Com isto queremos que seja exibido o resultado da concatenação:<br><br>

document.write("Flávio tem " + (ano - 1977) + " anos");<br>
O mesmo para todas as concatenações presentes no programa:<br><br>

var ano = 2016;<br><br>

// document.write("Flávio tem " + (ano - 1977) + " anos");

mostra("Flávio tem " + (ano - 1977) + " anos");<br><br>

pulaLinha();<br><br>

// document.write("Joaquim tem " + (ano - 1996) + " anos");

mostra("Joaquim tem " + (ano - 1996) + " anos");<br><br>

pulaLinha();<br><br>

ano = 2017;<br><br>

// document.write("Barney tem " + (ano - 1976) + " anos");

mostra("Barney tem " + (ano - 1976) + " anos");<br><br>

// document.write("Olá pessoal!");

mostra("Olá pessoal!");<br><br>

</script><br><br>
Entretanto, a função mostra() não existe. Apagaremos os comentários apenas para diminuir a poluição visual:<br><br>

var ano = 2016;<br><br>

mostra("Flávio tem " + (ano - 1977) + " anos");<br><br>

pulaLinha();<br><br>

mostra("Joaquim tem " + (ano - 1996) + " anos");<br><br>

pulaLinha();<br><br>

ano = 2017;<br><br>

mostra("Barney tem " + (ano - 1976) + " anos");<br><br>

mostra("Olá pessoal!");<br><br>

</script><br><br>
Nosso objetivo é que mostra() faça document.write(), que por sua vez recebe o que queremos exibir. O importante é que toda função seja declarada no início do arquivo, não importa se antes ou depois de pulaLinha(). Primeiro declararemos a função e o nome:<br><br>

<meta charset="UTF-8">

<script>

    function pulaLinha() {

        document.write("<br>");
        document.write("<br>");

}

function mostra() {

}

var ano = 2016;
Em seguida, determinaremos o que ela fará:

function mostra() {

    document.write("Olá");

}
</script><br><br>
No programa, estamos passando diferentes concatenações para que a função mostra() exiba, mas o que será realmente exibido? Faremos um teste. Salvaremos o programa, retornaremos ao navegador e recarregaremos o programa. Obtivemos o seguinte:<br><br>

Olá<br><br>

Olá<br><br>

Olá <br>
Ou seja, o programa ignorou completamente o que havíamos passado para ser exibido, o parâmetro, e está exibindo somente Olá. Precisamos descobrir uma forma de os parâmetros serem transmitidos para o document.write() presente na construção da função. Como faremos isso?<br><br>

Temos os parênteses obrigatórios após o nome da função:<br><br>

function mostra() {
}
<br><br>
Escolheremos um nome aleatório para inserir, por exemplo ronaldo. Quando mostra() receber um parâmetro, ele será enviado para dentro da variável ronaldo. Ao chegar nessa instrução, o JS interpretará como se ronaldo fosse igual à frase que queremos exibir.<br><br>

O parâmetro da função é considerado como se fosse uma variável. No caso, ronaldo recebe o que está sendo passado no programa, em mostra(). No caso do Olá pessoal!, ele exibirá este texto. Tendo definido o parâmetro da função, em document.write(), o incluiremos como parâmetro também:<br><br>

function mostra(ronaldo) {

    document.write(ronaldo);

}

Será que funciona? Salvaremos e recarregaremos a página:<br><br>

Flávio tem 39 anos<br><br>

Joaquim tem 20 anos<br><br>

Barney tem 41 anosOlá pessoal!
Deu certo! As frases foram exibidas.<br><br>

Aprendemos a criar uma função, mas desta vez estamos criando uma que recebe um parâmetro. Se quisermos que a função receba algo, precisaremos indicar isto incluindo um nome. Nós escolhemos ronaldo, mas para que fique mais claro, mudaremos para frase:<br><br>

function mostra(frase) {<br><br>

    document.write(frase);<br><br>

}<br><br>
Ao chamar a função mostra(), o JavaScript pegará o resultado da concatenação e interpretará como se frase fosse igual a isto. Por exemplo:<br><br>

function mostra(frase) {<br><br>

    document.write(frase);<br><br>

}<br><br>

mostra("Olá pessoal!");<br>
Para o JavaScript, frase será igual a Olá pessoal!, e com isso conseguimos passar parâmetros para uma função. Será que é possível simplificar ainda mais nosso código? Toda vez que imprimimos uma frase, queremos pular uma linha:<br><br>

<script>
    function pulaLinha() {

    document.write("<br>");
    document.write("<br>");
        }

    function mostra(frase ){

    document.write(frase);
        }

    mostra("Olá pessoal!");

    var ano = 2016;

    mostra("Flávio tem " + (ano - 1977) + " anos");

    pulaLinha();

    mostra("Joaquim tem " + (ano - 1996) + " anos");

    pulaLinha();

    ano = 2017;

    mostra("Barney tem " + (ano - 1976) + " anos");

</script><br><br>
Exceto pela última linha, que não pularemos. Removeremos a mensagem Olá pessoal!, bem como pulaLinha(), que não será inserido entre as frases. Recarregaremos a página, e temos o seguinte resultado:<br><br>

Flávio tem 39 anosJoaquim tem 20 anosBarney tem 41 anos<br>
Nenhuma linha foi pulada. Para tornar isso mais simples, incluiremos a função pulaLinha() em mostra():<br><br>

function mostra(frase) {<br><br>

    document.write(frase);<br><br>
    pulaLinha();
}<br><br>
Agora, a função mostra() conta com duas instruções. Quando a chamamos, será feito o document.write(), exibindo-se o parâmetro, e na próxima instrução será pulada uma linha. Uma função pode ter como instrução a chamada de outra função. Salvaremos, e recarregaremos a página. Obteremos o resultado desejado:<br><br>

Flávio tem 39 anos<br><br>

Joaquim tem 20 anos<br><br>

Barney tem 41 anos<br><br>
Se compararmos este código com o anterior, ele está mais claro. Não precisamos escrever document.write() diversas vezes, nem pular linhas em várias ocasiões. Guardamos a complexidade de pular linhas em uma única função:<br><br>

function pulaLinha() {<br>
    document.write("<'br>");<br>
    document.write("<'br>");<br><br>

}
E o código responsável por exibir as informações para o usuário estará em outra:<br><br>

function mostra(frase) {<br><br>

    document.write(frase);<br><br>
    pulaLinha();<br><br>
}<br><br>
A diferença entre elas é que, apesar de ambas possuírem duas instruções, a primeira não recebe um parâmetro, enquanto a segunda o faz. O que acontece se inserirmos mostra() sem nenhum parâmetro em nosso código?
<br><br>
var ano = 2016;<br><br>

mostra();<br>
Vamos inserir, salvar o programa e recarregar o navegador. Obteremos o seguinte resultado:<br><br>

undefined

Flávio tem 39 anos<br><br>

Joaquim tem 20 anos<br><br>

Barney tem 41 anos<br>
Não ocorre erro, mas é exibida a mensagem undefined, ou seja, "indefinido". Isso porque ao chamarmos a função e não passarmos um parâmetro, temos um valor de frase indefinido. Se passarmos um valor qualquer, como Calopsita!:<br><br>

var ano = 2016;<br><br>

mostra("Calopsita!");<br>
E recarregarmos o navegador, veremos o seguinte resultado:<br><br>

Calopsita!<br><br>

Flávio tem 39 anos<br><br>

Joaquim tem 20 anos<br><br>

Barney tem 41 anos<br>
Portanto, o que acabamos de fazer é o estopim para começarmos a criar aplicações mais úteis, dar forma a programas mais elaborados. Se dominamos o conceito de função, tudo é mais fácil no mundo da programação.